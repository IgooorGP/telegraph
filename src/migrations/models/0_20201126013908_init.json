{
  "upgrade": [
    "CREATE TABLE IF NOT EXISTS \"chatroom\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"updated_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"name\" VARCHAR(255) NOT NULL UNIQUE,\n    \"description\" VARCHAR(255) NOT NULL,\n    \"max_concurrent_users\" INT NOT NULL\n);\nCOMMENT ON TABLE \"chatroom\" IS 'Models a chat room.';\nCREATE TABLE IF NOT EXISTS \"user\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"updated_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"nick_name\" VARCHAR(255) NOT NULL UNIQUE\n);\nCOMMENT ON TABLE \"user\" IS 'Models a chat user.';\nCREATE TABLE IF NOT EXISTS \"message\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"updated_at\" TIMESTAMPTZ   DEFAULT CURRENT_TIMESTAMP,\n    \"message\" VARCHAR(255) NOT NULL,\n    \"user_id\" UUID NOT NULL REFERENCES \"user\" (\"id\") ON DELETE CASCADE,\n    \"chat_room_id\" UUID NOT NULL REFERENCES \"chatroom\" (\"id\") ON DELETE CASCADE\n);\nCOMMENT ON TABLE \"message\" IS 'Models a chat message.';\nCREATE TABLE IF NOT EXISTS \"aerich\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"version\" VARCHAR(255) NOT NULL,\n    \"app\" VARCHAR(20) NOT NULL,\n    \"content\" TEXT NOT NULL\n);"
  ]
}